loki:
  auth_enabled:  true
  #  enabled: false
  isDefault: true
  url: http://10.0.2.191:3100/loki/
  readinessProbe:
    httpGet:
      path: /ready
      port: http-metrics
    initialDelaySeconds: 45
  livenessProbe:
    httpGet:
      path: /ready
      port: http-metrics
    initialDelaySeconds: 45
  datasource:
    jsonData: {}
  distributor:
  ring:
    kvstore:
      store: memberlist
  ingester:
    lifecycler:
      ring:
        kvstore:
          store: memberlist
        replication_factor: 1
      final_sleep: 0s
    chunk_idle_period: 1h
    chunk_retain_period: 30s
    chunk_target_size: 1048576
    max_transfer_retries: 0

  memberlist:
    abort_if_cluster_join_fails: false
  limits_config:
    reject_old_samples: false
  config:
    schema_config:
      configs:
        - from: 2022-10-28
          store: boltdb-shipper
          object_store: s3
          schema: v11
          index:
            prefix: loki_
            period: 24h
    storage_config:
            # boltdb_shipper:
            #  active_index_directory: /loki/boltdb-shipper-active
            # cache_location: /loki/boltdb-shipper-cache
            #cache_ttl: 168h         
# Can be ncreased for faster performance over longer query periods, uses more disk space
# shared_store: s3
#     filesystem:
#       directory: /loki/chunks
      aws:
        s3: s3://us-east-1/bluelightco-loki
        access_key_id: AKIA4MUVQ5GK723FCSMD
        secret_access_key: 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
        #s3: s3://AWS_ACCESS_KEY_ID:AWS_SECRET_ACCESS_KEY@us-east-1/bluelightco-loki
        #s3: s3://us-east-2/lokilogtest17282783
        s3forcepathstyle: true
        bucketnames: bluelightco-loki
        region: us-east-1
        insecure: false
        sse_encryption: false
        http_config:
          idle_conn_timeout: 90s
          response_header_timeout: 0s
          insecure_skip_verify: false
    compactor:
      working_directory: /data/compactor
      shared_store: s3
      compaction_interval: 5m
    auth_enabled: true
    chunk_store_config:
      max_look_back_period: 0s
